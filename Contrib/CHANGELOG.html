<HTML><BODY BGCOLOR="#c8c8c8" TEXT="#000000"><H1>CVS log</H1><HR><H2><A NAME="1"><A HREF="#2">ata</A></A></H2><UL><LI><A HREF="#3">revision 1.13</A></LI><LI><A HREF="#4">revision 1.12</A></LI><LI><A HREF="#5">revision 1.11</A></LI><LI><A HREF="#6">revision 1.10</A></LI><LI><A HREF="#7">revision 1.9</A></LI><LI><A HREF="#8">revision 1.8</A></LI><LI><A HREF="#9">revision 1.7</A></LI><LI><A HREF="#10">revision 1.6</A></LI><LI><A HREF="#11">revision 1.5</A></LI><LI><A HREF="#12">revision 1.4</A></LI><LI><A HREF="#13">revision 1.3</A></LI><LI><A HREF="#14">revision 1.2</A></LI><LI><A HREF="#15">revision 1.1</A></LI>
<HR><H2><STRONG><A NAME="2">ata</A></STRONG></H2><P><PRE>Working file: ata
head: 1.13
branch:
locks: strict
access list:
symbolic names:
keyword substitution: kv
total revisions: 13;	selected revisions: 13
description:
</PRE></P><HR><H2><STRONG><A NAME="3">ata [ revision 1.13 ]</A></STRONG></H2><BR><STRONG>date: 2004/09/07 09:00:07;  author: gosha;  state: Exp;  lines: +61 -26</STRONG><P><PRE>опция -desc больше не используется.

Поменял порядок сортировки: поля `count` и `size`
	сортируются по нисходящей остальные по
	восходящей

Добавил некоторую визуализацию группировки при выводе ХТМЛ
	если порядок группировки и сортировки совпадают то
	сгруппированные значения разделяются пустой строкой
</PRE></P><HR><H2><STRONG><A NAME="4">ata [ revision 1.12 ]</A></STRONG></H2><BR><STRONG>date: 2004/09/06 13:01:35;  author: gosha;  state: Exp;  lines: +34 -9</STRONG><P><PRE>Добавил параметр командной строки -dump &lt;file&gt;
	для дампа нераспознанных строк в файл file

Поправил регулярное выражение по умолчанию для разбора лога
</PRE></P><HR><H2><STRONG><A NAME="5">ata [ revision 1.11 ]</A></STRONG></H2><BR><STRONG>date: 2004/08/28 20:29:24;  author: gosha;  state: Exp;  lines: +3 -3</STRONG><P><PRE>Доку поправил
</PRE></P><HR><H2><STRONG><A NAME="6">ata [ revision 1.10 ]</A></STRONG></H2><BR><STRONG>date: 2004/08/27 09:37:42;  author: gosha;  state: Exp;  lines: +34 -14</STRONG><P><PRE>Добавил процедуру квотирования данных при выводе отчета
	в html формате.

Ключи теперь генерятся, `склеиваясь` '\x00' вместо ',' -
	'\x00' - в логах хрен встретиш в отличии от ','

Доку несколько поправил...
</PRE></P><HR><H2><STRONG><A NAME="7">ata [ revision 1.9 ]</A></STRONG></H2><BR><STRONG>date: 2004/08/27 01:18:55;  author: gosha;  state: Exp;  lines: +4 -4</STRONG><P><PRE>Заголовки в html отчетах поправил...
</PRE></P><HR><H2><STRONG><A NAME="8">ata [ revision 1.8 ]</A></STRONG></H2><BR><STRONG>date: 2004/08/27 00:45:53;  author: gosha;  state: Exp;  lines: +75 -25</STRONG><P><PRE>Добавил в тело скрипта переменную $VERSION.

Поменял format по умолчанию - теперь также возможно
	использовать имя расширение файла из лог строки...
	В `-f` соответственно добавил поле req_ext.

Добавил некоторую визуализацию процесса чтения
	данных из лог файла. Новая опция -show
	разрешает при чтении лог файла выводить на экран
	количество прочитанных строк. Не рекомндую пользовать
	данную опцию - так как скорость работы замедляется
	~ на 20 %. Данная опция добавлена скорее для проверки
	работоспособности скрипта в `визуальном` так сказать
	режиме...
</PRE></P><HR><H2><STRONG><A NAME="9">ata [ revision 1.7 ]</A></STRONG></H2><BR><STRONG>date: 2004/08/26 23:33:58;  author: gosha;  state: Exp;  lines: +36 -33</STRONG><P><PRE>Переписал pod документацию
</PRE></P><HR><H2><STRONG><A NAME="10">ata [ revision 1.6 ]</A></STRONG></H2><BR><STRONG>date: 2004/08/26 19:31:10;  author: gosha;  state: Exp;  lines: +28 -22</STRONG><P><PRE>Добавил проверку соответствия входной информации
	из лог-файла ( -file ) заданному регулярному
	выражению ( -format ), в результате чего пришлось
	сменить сам алгоритм разбора логов...
</PRE></P><HR><H2><STRONG><A NAME="11">ata [ revision 1.5 ]</A></STRONG></H2><BR><STRONG>date: 2004/08/25 18:54:34;  author: gosha;  state: Exp;  lines: +182 -49</STRONG><P><PRE>Добавил в отчет, в html, формате вывод процентного соотношения

Добавил в отчеты вывод суммы трафика и числа запросов

Добавил ключ командной строки `-desc`, обратный порядок сортировки
	( по умолчанию теперь восходящий порядок сортировки )

Сделал контроль дупов в `-gb`, повторы сказывались на скорости
	работы скрипта

Параметр -order_by теперь стало возможно использоват несколько
	раз, то есть в сортировке теперь может быть использован любой
	набор полей описанных в `-gb` а также зарезервированные
	'поля':  `count` и `size`. Сортировка теперь вынесена в
	отдельную процедуру...
</PRE></P><HR><H2><STRONG><A NAME="12">ata [ revision 1.4 ]</A></STRONG></H2><BR><STRONG>date: 2004/08/23 08:26:29;  author: gosha;  state: Exp;  lines: +40 -8</STRONG><P><PRE>Добавил параметр tr_size_fld  - имя параметра ( из `-f` )
	по которому считается размер трафика, соответственно
	отказался от использования жестко прописанного параметра
	`byte` в теле скрипта для расчета трафика...

Отказался от использования конструкции $regex = qr/$regex/;
	генерируемое регулярное выражение //ismx - несколько тормозное
	из за /i

Переписал код инициализации временного хеша %log -
	увеличение производительности в 2 с лишним раза...
</PRE></P><HR><H2><STRONG><A NAME="13">ata [ revision 1.3 ]</A></STRONG></H2><BR><STRONG>date: 2004/08/23 01:10:48;  author: gosha;  state: Exp;  lines: +159 -24</STRONG><P><PRE>
Поправил регулярное выражение format
	ошибка при request вида /~gosha/index.html и /~gosha/

Добавил POD документацию
</PRE></P><HR><H2><STRONG><A NAME="14">ata [ revision 1.2 ]</A></STRONG></H2><BR><STRONG>date: 2004/08/22 23:16:07;  author: gosha;  state: Exp;  lines: +128 -40</STRONG><P><PRE>Добавил регистро-независимость значений параметров командной строки
	( везде кроме параметров forma и file )

Поменял имена параметров:
	f 			=&gt; file
	group_by	=&gt; gb
	fields		=&gt; f

Добавил параметры командной строки
	unit - единици измерения трафика ( B, K, M, G )
	help - вывод справки
	txt  - отчет в текстовом формате

Вывод отчета по умолчанию в html формате
</PRE></P><HR><H2><STRONG><A NAME="15">ata [ revision 1.1 ]</A></STRONG></H2><BR><STRONG>date: 2004/08/22 20:42:05;  author: gosha;  state: Exp;</STRONG><P><PRE>Скрипт для генерации статистики по transferlog файлу...
=============================================================================
</PRE></P></UL></BODY></HTML>